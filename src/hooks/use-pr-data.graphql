query GetPrData($query: String!, $pageSize: Int!, $cursor: String) {
  search(query: $query, type: ISSUE, first: $pageSize, after: $cursor) {
    edges {
      node {
        ... on PullRequest {
          id
          additions
          deletions
          changedFiles
          title
          publishedAt
          baseRefOid
          author {
            ... on User {
              id
              login
            }
          }
          repository {
            nameWithOwner
          }
          reviews(first: 10, states: APPROVED) {
            edges {
              node {
                id
                state
                submittedAt
                author {
                  login
                }
              }
            }
          }
          state
          comments(first: 10, orderBy: {field: UPDATED_AT, direction: ASC}) {
            edges {
              node {
                author {
                  login
                }
                createdAt
                bodyText
              }
            }
          }
          createdAt
          mergedAt
          mergedBy {
            login
          }
          merged
          number
          commits(first: 1) {
            edges {
              node {
                id
                commit {
                  message
                  authoredDate
                }
              }
            }
            totalCount
          }
          timelineItems(itemTypes: [PULL_REQUEST_COMMIT, LABELED_EVENT, HEAD_REF_FORCE_PUSHED_EVENT], first: 100) {
            edges {
              node {
                ... on LabeledEvent {
                  id
                  actor {
                    login
                  }
                  label {
                    name
                  }
                  createdAt
                }
                ... on HeadRefForcePushedEvent {
                  id
                  createdAt
                  actor {
                    login
                  }
                  ref {
                    target {
                      id
                    }
                  }
                  beforeCommit {
                    message
                    authoredDate
                    oid
                    history(first: 50) {
                      edges {
                        node {
                          committedDate
                          committer {
                            user {
                              login
                            }
                          }
                          message
                          oid
                          id
                        }
                      }
                    }
                  }
                  afterCommit {
                    authoredDate
                    message
                  }
                }
                ... on PullRequestCommit {

                  id
                  commit {
                    authoredDate
                    message
                  }
                }
              }
            }
          }
        }
      }
      cursor
    }
  }
}
